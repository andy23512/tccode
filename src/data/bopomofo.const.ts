import { convertChordInputKeysToIdentifier } from '../util/chord-identifier.util';

enum Consonant {
  B = 'ㄅ',
  P = 'ㄆ',
  M = 'ㄇ',
  F = 'ㄈ',
  D = 'ㄉ',
  T = 'ㄊ',
  N = 'ㄋ',
  L = 'ㄌ',
  G = 'ㄍ',
  K = 'ㄎ',
  H = 'ㄏ',
  J = 'ㄐ',
  Q = 'ㄑ',
  X = 'ㄒ',
  ZH = 'ㄓ',
  CH = 'ㄔ',
  SH = 'ㄕ',
  R = 'ㄖ',
  Z = 'ㄗ',
  C = 'ㄘ',
  S = 'ㄙ',
}

enum Medial {
  I = 'ㄧ',
  U = 'ㄨ',
  UE = 'ㄩ',
}

enum Rhyme {
  A = 'ㄚ',
  O = 'ㄛ',
  ER = 'ㄜ',
  E = 'ㄝ',
  AI = 'ㄞ',
  EI = 'ㄟ',
  AO = 'ㄠ',
  OU = 'ㄡ',
  AN = 'ㄢ',
  EN = 'ㄣ',
  ANG = 'ㄤ',
  ENG = 'ㄥ',
  ERR = 'ㄦ',
}

type BPMFSymbol = Consonant | Medial | Rhyme;

export const BOPOMOFO_COMBINATIONS = [
  'ㄅㄧ',
  'ㄅㄧㄝ',
  'ㄅㄧㄠ',
  'ㄅㄧㄢ',
  'ㄅㄧㄣ',
  'ㄅㄧㄥ',
  'ㄅㄨ',
  'ㄅㄚ',
  'ㄅㄛ',
  'ㄅㄞ',
  'ㄅㄟ',
  'ㄅㄠ',
  'ㄅㄢ',
  'ㄅㄣ',
  'ㄅㄤ',
  'ㄅㄥ',
  'ㄆㄧ',
  'ㄆㄧㄝ',
  'ㄆㄧㄠ',
  'ㄆㄧㄢ',
  'ㄆㄧㄣ',
  'ㄆㄧㄥ',
  'ㄆㄨ',
  'ㄆㄚ',
  'ㄆㄛ',
  'ㄆㄞ',
  'ㄆㄟ',
  'ㄆㄠ',
  'ㄆㄡ',
  'ㄆㄢ',
  'ㄆㄣ',
  'ㄆㄤ',
  'ㄆㄥ',
  'ㄇㄧ',
  'ㄇㄧㄝ',
  'ㄇㄧㄠ',
  'ㄇㄧㄡ',
  'ㄇㄧㄢ',
  'ㄇㄧㄣ',
  'ㄇㄧㄥ',
  'ㄇㄨ',
  'ㄇㄚ',
  'ㄇㄛ',
  'ㄇㄜ',
  'ㄇㄞ',
  'ㄇㄟ',
  'ㄇㄠ',
  'ㄇㄡ',
  'ㄇㄢ',
  'ㄇㄣ',
  'ㄇㄤ',
  'ㄇㄥ',
  'ㄈㄨ',
  'ㄈㄚ',
  'ㄈㄛ',
  'ㄈㄟ',
  'ㄈㄡ',
  'ㄈㄢ',
  'ㄈㄣ',
  'ㄈㄤ',
  'ㄈㄥ',
  'ㄉㄧ',
  'ㄉㄧㄝ',
  'ㄉㄧㄠ',
  'ㄉㄧㄡ',
  'ㄉㄧㄢ',
  'ㄉㄧㄥ',
  'ㄉㄨ',
  'ㄉㄨㄛ',
  'ㄉㄨㄟ',
  'ㄉㄨㄢ',
  'ㄉㄨㄣ',
  'ㄉㄨㄥ',
  'ㄉㄚ',
  'ㄉㄜ',
  'ㄉㄞ',
  'ㄉㄟ',
  'ㄉㄠ',
  'ㄉㄡ',
  'ㄉㄢ',
  'ㄉㄤ',
  'ㄉㄥ',
  'ㄊㄧ',
  'ㄊㄧㄝ',
  'ㄊㄧㄠ',
  'ㄊㄧㄢ',
  'ㄊㄧㄥ',
  'ㄊㄨ',
  'ㄊㄨㄛ',
  'ㄊㄨㄟ',
  'ㄊㄨㄢ',
  'ㄊㄨㄣ',
  'ㄊㄨㄥ',
  'ㄊㄚ',
  'ㄊㄜ',
  'ㄊㄞ',
  'ㄊㄠ',
  'ㄊㄡ',
  'ㄊㄢ',
  'ㄊㄤ',
  'ㄊㄥ',
  'ㄋㄧ',
  'ㄋㄧㄝ',
  'ㄋㄧㄠ',
  'ㄋㄧㄡ',
  'ㄋㄧㄢ',
  'ㄋㄧㄣ',
  'ㄋㄧㄤ',
  'ㄋㄧㄥ',
  'ㄋㄨ',
  'ㄋㄨㄛ',
  'ㄋㄨㄢ',
  'ㄋㄨㄥ',
  'ㄋㄩ',
  'ㄋㄩㄝ',
  'ㄋㄚ',
  'ㄋㄜ',
  'ㄋㄞ',
  'ㄋㄟ',
  'ㄋㄠ',
  'ㄋㄢ',
  'ㄋㄣ',
  'ㄋㄤ',
  'ㄋㄥ',
  'ㄌㄧ',
  'ㄌㄧㄚ',
  'ㄌㄧㄝ',
  'ㄌㄧㄠ',
  'ㄌㄧㄡ',
  'ㄌㄧㄢ',
  'ㄌㄧㄣ',
  'ㄌㄧㄤ',
  'ㄌㄧㄥ',
  'ㄌㄨ',
  'ㄌㄨㄛ',
  'ㄌㄨㄢ',
  'ㄌㄨㄣ',
  'ㄌㄨㄥ',
  'ㄌㄩ',
  'ㄌㄩㄝ',
  'ㄌㄚ',
  'ㄌㄛ',
  'ㄌㄜ',
  'ㄌㄞ',
  'ㄌㄟ',
  'ㄌㄠ',
  'ㄌㄡ',
  'ㄌㄢ',
  'ㄌㄤ',
  'ㄌㄥ',
  'ㄍㄨ',
  'ㄍㄨㄚ',
  'ㄍㄨㄛ',
  'ㄍㄨㄞ',
  'ㄍㄨㄟ',
  'ㄍㄨㄢ',
  'ㄍㄨㄣ',
  'ㄍㄨㄤ',
  'ㄍㄨㄥ',
  'ㄍㄚ',
  'ㄍㄜ',
  'ㄍㄞ',
  'ㄍㄟ',
  'ㄍㄠ',
  'ㄍㄡ',
  'ㄍㄢ',
  'ㄍㄣ',
  'ㄍㄤ',
  'ㄍㄥ',
  'ㄎㄨ',
  'ㄎㄨㄚ',
  'ㄎㄨㄛ',
  'ㄎㄨㄞ',
  'ㄎㄨㄟ',
  'ㄎㄨㄢ',
  'ㄎㄨㄣ',
  'ㄎㄨㄤ',
  'ㄎㄨㄥ',
  'ㄎㄚ',
  'ㄎㄜ',
  'ㄎㄞ',
  'ㄎㄠ',
  'ㄎㄡ',
  'ㄎㄢ',
  'ㄎㄣ',
  'ㄎㄤ',
  'ㄎㄥ',
  'ㄏㄨ',
  'ㄏㄨㄚ',
  'ㄏㄨㄛ',
  'ㄏㄨㄞ',
  'ㄏㄨㄟ',
  'ㄏㄨㄢ',
  'ㄏㄨㄣ',
  'ㄏㄨㄤ',
  'ㄏㄨㄥ',
  'ㄏㄚ',
  'ㄏㄜ',
  'ㄏㄞ',
  'ㄏㄟ',
  'ㄏㄠ',
  'ㄏㄡ',
  'ㄏㄢ',
  'ㄏㄣ',
  'ㄏㄤ',
  'ㄏㄥ',
  'ㄐㄧ',
  'ㄐㄧㄚ',
  'ㄐㄧㄝ',
  'ㄐㄧㄠ',
  'ㄐㄧㄡ',
  'ㄐㄧㄢ',
  'ㄐㄧㄣ',
  'ㄐㄧㄤ',
  'ㄐㄧㄥ',
  'ㄐㄩ',
  'ㄐㄩㄝ',
  'ㄐㄩㄢ',
  'ㄐㄩㄣ',
  'ㄐㄩㄥ',
  'ㄑㄧ',
  'ㄑㄧㄚ',
  'ㄑㄧㄝ',
  'ㄑㄧㄠ',
  'ㄑㄧㄡ',
  'ㄑㄧㄢ',
  'ㄑㄧㄣ',
  'ㄑㄧㄤ',
  'ㄑㄧㄥ',
  'ㄑㄩ',
  'ㄑㄩㄝ',
  'ㄑㄩㄢ',
  'ㄑㄩㄣ',
  'ㄑㄩㄥ',
  'ㄒㄧ',
  'ㄒㄧㄚ',
  'ㄒㄧㄝ',
  'ㄒㄧㄠ',
  'ㄒㄧㄡ',
  'ㄒㄧㄢ',
  'ㄒㄧㄣ',
  'ㄒㄧㄤ',
  'ㄒㄧㄥ',
  'ㄒㄩ',
  'ㄒㄩㄝ',
  'ㄒㄩㄢ',
  'ㄒㄩㄣ',
  'ㄒㄩㄥ',
  'ㄓ',
  'ㄓㄨ',
  'ㄓㄨㄚ',
  'ㄓㄨㄛ',
  'ㄓㄨㄟ',
  'ㄓㄨㄢ',
  'ㄓㄨㄣ',
  'ㄓㄨㄤ',
  'ㄓㄨㄥ',
  'ㄓㄚ',
  'ㄓㄜ',
  'ㄓㄞ',
  'ㄓㄠ',
  'ㄓㄡ',
  'ㄓㄢ',
  'ㄓㄣ',
  'ㄓㄤ',
  'ㄓㄥ',
  'ㄔ',
  'ㄔㄨ',
  'ㄔㄨㄛ',
  'ㄔㄨㄞ',
  'ㄔㄨㄟ',
  'ㄔㄨㄢ',
  'ㄔㄨㄣ',
  'ㄔㄨㄤ',
  'ㄔㄨㄥ',
  'ㄔㄚ',
  'ㄔㄜ',
  'ㄔㄞ',
  'ㄔㄠ',
  'ㄔㄡ',
  'ㄔㄢ',
  'ㄔㄣ',
  'ㄔㄤ',
  'ㄔㄥ',
  'ㄕ',
  'ㄕㄨ',
  'ㄕㄨㄚ',
  'ㄕㄨㄛ',
  'ㄕㄨㄞ',
  'ㄕㄨㄟ',
  'ㄕㄨㄢ',
  'ㄕㄨㄣ',
  'ㄕㄨㄤ',
  'ㄕㄚ',
  'ㄕㄜ',
  'ㄕㄞ',
  'ㄕㄟ',
  'ㄕㄠ',
  'ㄕㄡ',
  'ㄕㄢ',
  'ㄕㄣ',
  'ㄕㄤ',
  'ㄕㄥ',
  'ㄖ',
  'ㄖㄨ',
  'ㄖㄨㄛ',
  'ㄖㄨㄟ',
  'ㄖㄨㄢ',
  'ㄖㄨㄣ',
  'ㄖㄨㄥ',
  'ㄖㄜ',
  'ㄖㄠ',
  'ㄖㄡ',
  'ㄖㄢ',
  'ㄖㄣ',
  'ㄖㄤ',
  'ㄖㄥ',
  'ㄗ',
  'ㄗㄨ',
  'ㄗㄨㄛ',
  'ㄗㄨㄟ',
  'ㄗㄨㄢ',
  'ㄗㄨㄣ',
  'ㄗㄨㄥ',
  'ㄗㄚ',
  'ㄗㄜ',
  'ㄗㄞ',
  'ㄗㄟ',
  'ㄗㄠ',
  'ㄗㄡ',
  'ㄗㄢ',
  'ㄗㄣ',
  'ㄗㄤ',
  'ㄗㄥ',
  'ㄘ',
  'ㄘㄨ',
  'ㄘㄨㄛ',
  'ㄘㄨㄟ',
  'ㄘㄨㄢ',
  'ㄘㄨㄣ',
  'ㄘㄨㄥ',
  'ㄘㄚ',
  'ㄘㄜ',
  'ㄘㄞ',
  'ㄘㄠ',
  'ㄘㄡ',
  'ㄘㄢ',
  'ㄘㄣ',
  'ㄘㄤ',
  'ㄘㄥ',
  'ㄙ',
  'ㄙㄨ',
  'ㄙㄨㄛ',
  'ㄙㄨㄟ',
  'ㄙㄨㄢ',
  'ㄙㄨㄣ',
  'ㄙㄨㄥ',
  'ㄙㄚ',
  'ㄙㄜ',
  'ㄙㄞ',
  'ㄙㄠ',
  'ㄙㄡ',
  'ㄙㄢ',
  'ㄙㄣ',
  'ㄙㄤ',
  'ㄙㄥ',
  'ㄧ',
  'ㄧㄚ',
  'ㄧㄛ',
  'ㄧㄝ',
  'ㄧㄞ',
  'ㄧㄠ',
  'ㄧㄡ',
  'ㄧㄢ',
  'ㄧㄣ',
  'ㄧㄤ',
  'ㄧㄥ',
  'ㄨ',
  'ㄨㄚ',
  'ㄨㄛ',
  'ㄨㄞ',
  'ㄨㄟ',
  'ㄨㄢ',
  'ㄨㄣ',
  'ㄨㄤ',
  'ㄨㄥ',
  'ㄩ',
  'ㄩㄝ',
  'ㄩㄢ',
  'ㄩㄣ',
  'ㄩㄥ',
  'ㄚ',
  'ㄛ',
  'ㄜ',
  'ㄞ',
  'ㄟ',
  'ㄠ',
  'ㄡ',
  'ㄢ',
  'ㄣ',
  'ㄤ',
  'ㄦ',
];

const TAN_CHORD_36_V2_LAYOUT: Record<BPMFSymbol, string> = {
  [Consonant.B]: 'w',
  [Consonant.P]: 'z',
  [Consonant.M]: 'g',
  [Consonant.F]: '=',
  [Consonant.D]: 'k',
  [Consonant.T]: 'c',
  [Consonant.N]: 'm',
  [Consonant.L]: 'v',
  [Consonant.G]: 'r',
  [Consonant.K]: 'e',
  [Consonant.H]: '-',
  [Consonant.J]: 'r',
  [Consonant.Q]: 'e',
  [Consonant.X]: '-',
  [Consonant.ZH]: 'i',
  [Consonant.CH]: 'o',
  [Consonant.SH]: '.',
  [Consonant.R]: '[',
  [Consonant.Z]: "'",
  [Consonant.C]: 'u',
  [Consonant.S]: ',',
  [Medial.I]: 'a',
  [Medial.U]: 't',
  [Medial.UE]: 'y',
  [Rhyme.A]: 'n',
  [Rhyme.O]: 'j',
  [Rhyme.ER]: 'l',
  [Rhyme.E]: 'l',
  [Rhyme.AI]: 'b',
  [Rhyme.EI]: 'q',
  [Rhyme.AO]: '\\',
  [Rhyme.OU]: 'x',
  [Rhyme.AN]: 'f',
  [Rhyme.EN]: 'd',
  [Rhyme.ANG]: 'h',
  [Rhyme.ENG]: 'p',
  [Rhyme.ERR]: 'p',
};

export const BOPOMOFO_CHORD_MAP: Map<string, string> = new Map(
  BOPOMOFO_COMBINATIONS.filter((bc) => bc.length > 1).map((bc) => [
    convertChordInputKeysToIdentifier(
      bc.split('').map((b) => TAN_CHORD_36_V2_LAYOUT[b as BPMFSymbol]),
    ),
    bc,
  ]),
);
